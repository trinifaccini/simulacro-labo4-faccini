import{n as l}from"./chunk-BTJ4JXKR.js";import{i as s,w as c,z as n}from"./chunk-ZH3N2TKB.js";import{a as i}from"./chunk-5AFINJGR.js";var u=(()=>{class r{constructor(e){this.firestore=e}agregarPelicula(e){return this.firestore.collection("peliculas").add(e)}obtenerPeliculas(){return this.firestore.collection("peliculas").snapshotChanges().pipe(s(e=>e.map(t=>{let o=t.payload.doc.data();return o.uid=t.payload.doc.id,o.fecha_estreno&&(o.fecha_estreno=o.fecha_estreno.toDate()),i({},o)})))}obtenerPeliculasPorProtagonista(e){return this.firestore.collection("peliculas",t=>t.where("protagonista_id","==",e)).snapshotChanges().pipe(s(t=>t.map(o=>{let a=o.payload.doc.data();return a.uid=o.payload.doc.id,a.fecha_estreno&&(a.fecha_estreno=a.fecha_estreno.toDate()),i({},a)})))}static{this.\u0275fac=function(t){return new(t||r)(n(l))}}static{this.\u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{u as a};
